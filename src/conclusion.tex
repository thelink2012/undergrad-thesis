\xchapter{Conclusion}{}
\label{cap:conclusion}

This work presented the design and implementation of JVMTIPROF, an extension to JVMTI with higher-level functionalities. We evaluated the framework in an existing system and found minimal penalties compared to pure JVMTI.

We have also shown how JVMTI can be extended by manipulating its function table. In our experience, the technique is overly complex and hard to maintain, suggesting alternative solutions should be favored, such as the creation of a JVMTI environment private to the extended interface.

In the future, cross-platform support and additional functionalities can be explored. The present components have room for improvement as well. Call stack tracing does not expose kernel, and native functions, which can be solved by the hybrid approach of \citeonline{asyncprofiler}. Method interception may be more performant if we generate specialized code for each hook, avoiding the intermediate lookup by an integer identifier. Finally, execution sampling may benefit from a per-thread timer instead of an application-wide one.
