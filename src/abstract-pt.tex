Construir agentes de perfilamento eficientes para a máquina virtual Java é uma tarefa desafiadora. O trabalho é dificultado pelo fato da maioria dos frameworks de instrumentação de alto nível serem escritos e precisarem ser usados nas fronteiras da linguagem de programação Java. Este trabalho apresenta a JVMTIPROF, uma extensão para a JVM Tool Infrastructure provendo funcionalidades de alto nível para serem utilizadas por agentes de instrumentação e perfilamento. A JVMTIPROF pode ser utilizada para interceptar chamadas a métodos e obter amostras precisas da pilha de chamadas de uma aplicação, tudo em código nativo. Nós avaliamos nossa solução substituindo a JVMTI em um escalonador de frequência guiada por perfil e não encontramos nenhuma penalidade de desempenho significativa.
